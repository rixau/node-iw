'use strict';var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{'default':mod};};Object.defineProperty(exports,'__esModule',{value:true});const child_process_1=require('child_process');const error_1=__importDefault(require('./error'));const dev={set(networkInterface,options){try{switch(options.type){case'channel':{(0,child_process_1.execSync)(`iw dev ${networkInterface} set channel ${options.channel} ${options.bandwidth||''}`,{stdio:'pipe'});return;}case'freq':{(0,child_process_1.execSync)(`iw dev ${networkInterface} set freq ${options.freq} ${options.bandwidth||''}`,{stdio:'pipe'});return;}case'mode':{if(options.mode==='monitor'){(0,child_process_1.execSync)(`sudo iw ${networkInterface} set monitor none`,{stdio:'pipe'});}else if(options.mode==='managed'){(0,child_process_1.execSync)(`sudo iw ${networkInterface} set type managed`,{stdio:'pipe'});}return;}}}catch(error){(0,error_1.default)(error,networkInterface);}},info(){const output=(0,child_process_1.execSync)('iw dev').toString();const devs=output.split('phy').filter(e=>e!=='').map(e=>{return{interface:e.match(/(?<=Interface )(.*)(?=\n|\t)/g)?.at(0)||null,ifindex:e.match(/(?<=ifindex )(.*)(?=\n|\t)/g)?.at(0)||null,wdev:e.match(/(?<=wdev )(.*)(?=\n|\t)/g)?.at(0)||null,addr:e.match(/(?<=addr )(.*)(?=\n|\t)/g)?.at(0)||null,txpower:e.match(/(?<=txpower )(.*)(?=\n|\t)/g)?.at(0)||null};});return devs;}};exports.default=dev;